var solrValidator=function(e,s,o,t,a){e="undefined"!=typeof e?e:"nl",o="undefined"!=typeof o?o:null,s="undefined"!=typeof s?s:"normal",t="undefined"!=typeof t?t:4e3,a="undefined"!=typeof a?a:!1,$.solrValidatorMessages.init(solrValidatorTranslations,e),this.query=null,this.allowedSolrFields=o,this.mode=s,this.errorMessages=null,this.maxLength=t,this.queryParts=[],this.UseConsoleLog=a,this.UseConsoleLog&&console.log("UseConsoleLog is set to TRUE")};solrValidator.prototype={validate:function(e){e="undefined"!=typeof e?e:"",(null==e||e.length<=0)&&(this.errorMessages=new Array,this.errorMessages.push($.solrValidatorMessages.get("EmptyQuery"))),null!=e&&e.length>0&&e.length>this.maxLength&&(this.errorMessages=new Array,this.errorMessages.push($.solrValidatorMessages.get("QueryToLong")+this.maxLength)),null!=e&&e.length>0&&e.length<=this.maxLength&&(this.query=e.replace(/\\./g,"\\ "),this.errorMessages=new Array,"strict"==this.mode&&this.checkStrict(),"normal"==this.mode&&this.checkNormal())},checkStrict:function(){this.UseConsoleLog&&console.log("using checkStrict"),this.checkAllowedCharacters(),this.inValidQuotes(),this.checkParentheses(),this.checkSlash(),this.checkQuotes(),this.checkAsteriskNotAllowed(),this.checkORInParenthesisBegin(),this.checkORInParenthesisEnd(),this.checkColon(),this.checkColonAtBeginning(),this.checkCaret(),this.checkSquiggle(),this.checkDoNotUseAND(),this.checkAmpersands(),this.checkExclamationMark(),this.checkQuestionMarkNotAllowed(),this.checkPlusMinus(),this.checkDoubleOR()},checkNormal:function(){this.UseConsoleLog&&console.log("using checkNormal"),this.checkNormalAllowedCharacters(),this.inValidQuotes(),this.checkParentheses(),this.checkSlash(),this.checkQuotes(),this.checkAsterisk(),this.checkStartingWithAWildCard(),this.checkORInParenthesisBegin(),this.checkORInParenthesisEnd(),this.checkANDInParenthesis(),this.checkColonAtEnd(),this.checkColonAtBeginning(),this.checkAllowedFields(),this.checkCaret(),this.checkNearSquiggle(),this.checkAmpersands(),this.checkExclamationMark(),this.checkQuestionMark(),this.checkColon(),this.checkDoubleOR(),this.checkDoubleAND(),this.checkPlusMinus()},removeValidPhrasePatterns:function(e){var s=/((([A-Za-z]+:)|-|\+)*("[^"]*")|"[^"]*")/g;return e=e.replace(s,""),e.trim()},removePhrases:function(e){var s=/"([^"]*)"/g;return e=e.replace(s,""),e.trim()},checkAllowedCharacters:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkAllowedCharacters",e),matches=e.match(/[^a-zA-Z0-9\x80-\xFF_+\-:.()~\^\"*?&|!{}\[\]\\@#\/$%'= \r\n“”‘???’?„?”]/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidCharacter"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidCharacter"))},checkNormalAllowedCharacters:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkNormalAllowedCharacters",e),matches=e.match(/[^a-zA-Z0-9\x80-\xFF_+\-:,.()~\^\"*?&|!{}\[\]\\@#\/$%'= \r\n“”‘???’?„?”]/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidCharacter"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidCharacter"))},checkDoNotUseAND:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkDoNotUseAND",e),matches=e.match(/^AND(\s{1})|(\s{1})AND(\s{1})|(\s{1})AND$/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DoNotUseAnd"))&&this.errorMessages.push($.solrValidatorMessages.get("DoNotUseAnd"))},inValidQuotes:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("inValidQuotes",e),matches=e.match(/[“”‘???’?„?”]/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidQuotes"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidQuotes"))},checkAsterisk:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkAsterisk (1)",e),e=this.removeValidPhrasePatterns(e),this.UseConsoleLog&&console.log("checkAsterisk (2)",e),""!=e.trim()&&(matches=e.match(/^[\*]*$|[\s]\*|^\*[^\s]/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidWildCardUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidWildCardUsage")))},checkAsteriskNotAllowed:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkAsteriskNotAllowed",e),matches=e.match(/\*/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("NoWildCardUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("NoWildCardUsage"))},checkStartingWithAWildCard:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkStartingWithAWildCard (1)",e),e=this.removeValidPhrasePatterns(e),this.UseConsoleLog&&console.log("checkStartingWithAWildCard (2)",e),""!=e&&(matches=e.match(/(\s{1,})[*|\?][a-zA-Z0-9\x80-\xFF_+\-:.()~\^\"*?&|!{}\[\]\\@#\/$%'= \r\n“”‘???’?„?”]|^[*|\?][a-zA-Z0-9\x80-\xFF_+\-:.()~\^\"*?&|!{}\[\]\\@#\/$%'= \r\n“”‘???’?„?”]|(:|[(])[*|\?][a-zA-Z0-9\x80-\xFF_+\-:.()~\^\"*?&|!{}\[\]\\@#\/$%'= \r\n“”‘???’?„?”]/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidWildCardUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidWildCardUsage")))},checkParentheses:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkParentheses",e);var s=!1,o=!1;if(matchLeft=e.match(/[(]/g),null!=matchLeft&&(s=!0),matchRight=e.match(/[)]/g),null!=matchRight&&(o=!0),s||o){if(s&&!o||o&&!s)-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DidNotCloseParentheses"))&&this.errorMessages.push($.solrValidatorMessages.get("DidNotCloseParentheses"));else{var t=matchLeft.length+matchRight.length;(t%2>0||matchLeft.length!=matchRight.length)&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DidNotCloseParentheses"))&&this.errorMessages.push($.solrValidatorMessages.get("DidNotCloseParentheses"))}matches=this.query.match(/\(\)/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidParentheses"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidParentheses"))}},checkAmpersands:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkAmpersands",e),matches=e.match(/[&]{2}/),null!=matches&&matches.length>0&&(matches=e.match(/&&/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DoubleAmpersands"))&&this.errorMessages.push($.solrValidatorMessages.get("DoubleAmpersands")))},checkCaret:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkCaret (1)",e),e=this.removeValidPhrasePatterns(e),this.UseConsoleLog&&console.log("checkCaret (2)",e),""!=e.trim()&&(matches=e.match(/\^/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("CaretNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("CaretNotAllowed")))},checkSquiggle:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkSquiggle",e),matches=e.match(/~/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("SquiggleNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("SquiggleNotAllowed"))},checkNearSquiggle:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkNearSquiggle (1)",e),matches=e.match(/~/g),null!=matches&&(e=e.replace(/[\"][\w\d ]*[\"]( ){0,1}[\~][\d]+/g,""),e=this.removePhrases(e),InvalidBoostMatches=e.match(/~/g),null!=InvalidBoostMatches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidNearUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidNearUsage")))},checkExclamationMark:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkExclamationMark",e),e=this.removePhrases(e),this.UseConsoleLog&&console.log("checkExclamationMark (2)",e),matches=e.match(/^!|[a-zA-Z0-9\x80-\xFF_+\-:.()\"*?&|!{}\[\]\^~\\@#\/$%'=] ! [a-zA-Z0-9\x80-\xFF_+\-:.()\"*?&|!{}\[\]\^~\\@#\/$%'=]|!$/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidExclamationMarkUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidExclamationMarkUsage"))},checkQuestionMark:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkQuestionMark",e),e=this.removePhrases(e),this.UseConsoleLog&&console.log("checkQuestionMark (2)",e),matches=e.match(/( )+\?( )+|( )+\?$|^\?( )+|\:\?( )+/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidQuestionMarkUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidQuestionMarkUsage"))},checkQuestionMarkNotAllowed:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkQuestionMarkNotAllowed",e),matches=e.match(/\?/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("NoSingleWildCardUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("NoSingleWildCardUsage"))},checkPlusMinus:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkPlusMinus (1)",e),e=this.removeValidPhrasePatterns(e),this.UseConsoleLog&&console.log("checkPlusMinus (2)",e),""!=e.trim()&&(matches=e.match(/^\[-\+](\s{1})|(\s{1})[-\+](\s{1})|^[-\+]$|(\s{1})[-\+]$/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("InvalidPlusMinusUsage"))&&this.errorMessages.push($.solrValidatorMessages.get("InvalidPlusMinusUsage")))},checkDoubleOR:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkDoubleOR",e),matches=e.match(/^(OR( ){1,}OR( ){1,}){1,}|(( ){1,}OR( ){1,}OR( ){1,}){1,}|(( ){1,}OR( ){1,}OR){1,}$/),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DoubleOr"))&&this.errorMessages.push($.solrValidatorMessages.get("DoubleOr"))},checkDoubleAND:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkDoubleAND",e),matches=e.match(/(\s+    AND){2,}/g),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DoubleAnd"))&&this.errorMessages.push($.solrValidatorMessages.get("DoubleAnd"))},checkORInParenthesisEnd:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkORInParenthesis",e),matches=e.match(/( OR( )*\))/g),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("checkORInParenthesisEnd"))&&this.errorMessages.push($.solrValidatorMessages.get("checkORInParenthesisEnd"))},checkORInParenthesisBegin:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkORInParenthesis",e),matches=e.match(/(\(( )*OR( ){1,})/g),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("checkORInParenthesisBegin"))&&this.errorMessages.push($.solrValidatorMessages.get("checkORInParenthesisBegin"))},checkANDInParenthesis:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkANDInParenthesis",e),matches=e.match(/( AND( )*\))/g),null!=matches&&matches.length>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("checkANDInParenthesis"))&&this.errorMessages.push($.solrValidatorMessages.get("checkANDInParenthesis"))},checkSlash:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkSlash (1)",e),e=this.removePhrases(e),this.UseConsoleLog&&console.log("checkSlash (2)",e),matches=e.match(/\//),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("ForwardSlashNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("ForwardSlashNotAllowed")),matches=e.match(/\\/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("BackwardSlashNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("BackwardSlashNotAllowed"))},checkQuotes:function(e){if(e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkQuotes",e),matches=e.match(/\"/g),null!=matches&&matches.length>0){var s=matches.length;s%2>0&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DidNotCloseQuotes"))&&this.errorMessages.push($.solrValidatorMessages.get("DidNotCloseQuotes")),matches=e.match(/""/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("EmptyQuotes"))&&this.errorMessages.push($.solrValidatorMessages.get("EmptyQuotes"))}},checkColonAtEnd:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkColonAtEnd",e),matches=e.match(/:$/),null!=matches&&("normal"==this.mode?-1==this.errorMessages.indexOf($.solrValidatorMessages.get("SingleColonNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("SingleColonNotAllowed")):-1==this.errorMessages.indexOf($.solrValidatorMessages.get("ColonNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("ColonNotAllowed")))},checkColonAtBeginning:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkColonAtBeginning",e),matches=e.match(/^:/),null!=matches&&("normal"==this.mode?-1==this.errorMessages.indexOf($.solrValidatorMessages.get("SingleColonNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("SingleColonNotAllowed")):-1==this.errorMessages.indexOf($.solrValidatorMessages.get("ColonNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("ColonNotAllowed")))},checkColon:function(e){e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkColon",e),null!=this.allowedSolrFields&&this.allowedSolrFields.length>0?(matches=e.match(/ :[a-zA-Z0-9\x80-\xFF_+\-.()~\^\"*?&|!{}\[\]\\@#\/$%'= \r\n“”‘???’?„?”]| :$/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("SingleColonNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("SingleColonNotAllowed")),matches=e.match(/:{2,}/),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("DoubleColonNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("DoubleColonNotAllowed"))):(matches=e.match(/:/g),null!=matches&&-1==this.errorMessages.indexOf($.solrValidatorMessages.get("ColonNotAllowed"))&&this.errorMessages.push($.solrValidatorMessages.get("ColonNotAllowed")))},checkAllowedFields:function(e){if(e="undefined"!=typeof e?e:this.query,this.UseConsoleLog&&console.log("checkAllowedFields (1)",e),null!=this.allowedSolrFields&&this.allowedSolrFields.length>0){var s=!0;if(e=this.removePhrases(e),this.UseConsoleLog&&console.log("checkAllowedFields (2)",e),matches=e.match(/[a-zA-Z0-9\x80-\xFF_]+:/g),null!=matches){for(i=0;i<matches.length;i++){var o=this.allowedSolrFields.indexOf("|"+matches[i]+"|");-1==o&&(s=!1)}s||(this.errorMessages.push($.solrValidatorMessages.get("NotAllowedField")),-1==this.errorMessages.indexOf($.solrValidatorMessages.get("NotAllowedField"))&&this.errorMessages.push($.solrValidatorMessages.get("NotAllowedField")))}}}};